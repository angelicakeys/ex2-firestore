(this["webpackJsonpex2-firestore"]=this["webpackJsonpex2-firestore"]||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},68:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(27),i=c.n(s),r=c(21),o=(c(51),c(12)),j=(c(52),c(53),c(43)),l=c.n(j),d=c(86),b=(c(54),c(3));function u(e){var t=function(e){var t={nbArticles:0,totalItems:0,st:0,tps:0,tvq:0,total:0};t.nbArticles=e.length,t.totalItems=e.reduce((function(e,t){return e+t.qte}),0);var c=e.reduce((function(e,t){return e+t.prix*t.qte}),0);t.st=c.toFixed(2);var n=.05*c;t.tps=n.toFixed(2);var a=.09975*c;return t.tvq=a.toFixed(2),t.total=(c+n+a).toFixed(2),t}(e.articles);return Object(b.jsxs)("div",{className:"SommairePanier",children:[Object(b.jsxs)("span",{children:["Articles diff\xe9rents : ",t.nbArticles]}),Object(b.jsxs)("span",{children:["Total # items : ",t.totalItems]}),Object(b.jsxs)("span",{children:["Sous-total : ",t.st]}),Object(b.jsxs)("span",{children:["TPS : ",t.tps]}),Object(b.jsxs)("span",{children:["TVQ : ",t.tvq]}),Object(b.jsxs)("span",{children:["Total : ",t.total]})]})}function O(e){var t=e.etatPanier,c=Object(o.a)(t,1)[0],a=Object.values(c),s=Object(n.useState)(!1),i=Object(o.a)(s,2),j=i[0],O=i[1];return Object(b.jsxs)("header",{className:"Entete",children:[Object(b.jsx)("div",{className:"logo",children:Object(b.jsx)(r.b,{to:"/",children:"Magasin"})}),Object(b.jsxs)("ul",{className:"navPrincipale",children:[Object(b.jsx)("li",{children:Object(b.jsx)(r.c,{to:"/nos-produits",activeClassName:"navActive",children:"Produits"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.c,{to:"/a-propos-de-nous",activeClassName:"navActive",children:"\xc0 propos de nous"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.c,{to:"/contactez-nous",activeClassName:"navActive",children:"Contactez-nous"})})]}),Object(b.jsxs)("ul",{className:"navUtilisateur",children:[Object(b.jsxs)("li",{children:[Object(b.jsx)(d.a,{onClick:function(){return O(!j)},badgeContent:a.reduce((function(e,t){return e+t.qte}),0),color:"secondary",children:Object(b.jsx)(l.a,{})}),j&&Object(b.jsx)(u,{articles:a})]}),Object(b.jsx)("li",{children:"Mon compte"})]})]})}var x=c(19),p=(c(64),c(18));c(65);function h(e){var t=e.onClick,c=e.qte,n=e.texte,a=e.classeCss;return Object(b.jsx)(d.a,{badgeContent:c,color:"primary",children:Object(b.jsx)("button",{onClick:t,className:"BtnAjoutPanier ".concat(a),children:n})})}var m=c(44),f=c.n(m);c(66);function v(e){var t=e.etatPanier,c=e.id,n=e.nom,a=e.prix,s=e.image,i=Object(o.a)(t,2),r=i[0],j=i[1];var l=r[c]?[r[c].qte,Object(b.jsx)(f.a,{}),"rouge"]:[0,"Ajouter au panier",""],d=Object(o.a)(l,3),u=d[0],O=d[1],m=d[2];return Object(b.jsxs)("li",{className:"Produit",children:[Object(b.jsx)("img",{src:"images-produits/"+s+".webp",alt:""}),Object(b.jsxs)("div",{className:"info",children:[Object(b.jsx)("p",{className:"nom",children:n}),Object(b.jsx)("p",{className:"prix",children:a})]}),Object(b.jsx)(h,{onClick:function(){r[c]?j(Object(x.a)(Object(x.a)({},r),{},Object(p.a)({},c,Object(x.a)(Object(x.a)({},r[c]),{},{qte:r[c].qte+1})))):j(Object(x.a)(Object(x.a)({},r),{},Object(p.a)({},c,{nom:n,prix:a,qte:1})))},qte:u,texte:O,classeCss:m})]})}var g=c(31);c(71);g.a.apps.length||g.a.initializeApp({apiKey:"AIzaSyBgMiKvAe10xOwJ2apvQvfsVJLz9s6r5hQ",authDomain:"react-amm.firebaseapp.com",projectId:"react-amm",storageBucket:"react-amm.appspot.com",messagingSenderId:"845681079176",appId:"1:845681079176:web:7a531bab49f373dfad803d"});var N=g.a.firestore();function P(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){var e=[];N.collection("ex2-produits").get().then((function(t){t.forEach((function(t){return e.push(Object(x.a)({id:t.id},t.data()))})),s(e)}))}),[]),Object(b.jsxs)("div",{className:"ListeProduits",children:[Object(b.jsx)("h2",{children:"Produits disponibles"}),Object(b.jsx)("ul",{children:a.map((function(t){return Object(b.jsx)(v,Object(x.a)({etatPanier:e.etatPanier},t),t.id)}))})]})}function A(){return Object(b.jsxs)("div",{className:"Accueil",children:[Object(b.jsx)("h2",{children:"Magasin"}),Object(b.jsx)("p",{children:"Page d'accueil en construction"})]})}function w(){return Object(b.jsxs)("div",{className:"Apropos",children:[Object(b.jsx)("h2",{children:"\xc0 propos de nous"}),Object(b.jsx)("p",{children:"Patati et patata"})]})}function C(){return Object(b.jsxs)("div",{className:"Contact",children:[Object(b.jsx)("h2",{children:"Contactez-nous"}),Object(b.jsx)("p",{children:"Formulaire de contact \xe0 venir"})]})}c(68);var S=(new Date).getFullYear();function q(e){return Object(b.jsxs)("footer",{className:"PiedDePage",children:["\xa9",S," - TIM - Tous droits r\xe9serv\xe9s."]})}var I=c(5);function k(){var e=Object(n.useState)((function(){return window.localStorage.getItem("panier-4pa-ex2")?JSON.parse(window.localStorage.getItem("panier-4pa-ex2")):{}})),t=Object(o.a)(e,1)[0];return Object(n.useEffect)((function(){return window.localStorage.setItem("panier-4pa-ex2",JSON.stringify(t))}),[t]),Object(b.jsxs)("div",{className:"Appli",children:[Object(b.jsx)(O,{etatPanier:e}),Object(b.jsx)("section",{className:"contenuPrincipal",children:Object(b.jsxs)(I.c,{children:[Object(b.jsx)(I.a,{path:"/",component:A,exact:!0}),Object(b.jsx)(I.a,{path:"/nos-produits",children:Object(b.jsx)(P,{etatPanier:e,exact:!0})}),Object(b.jsx)(I.a,{path:"/a-propos-de-nous",exact:!0,children:Object(b.jsx)(w,{})}),Object(b.jsx)(I.a,{path:"/contactez-nous",component:C,exact:!0})]})}),Object(b.jsx)(q,{})]})}var z=-1!==window.location.href.search(/github\.io/)?"/".concat("ex2-firestore"):"";i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(r.a,{basename:z,children:Object(b.jsx)(k,{})})}),document.getElementById("racine"))}},[[70,1,2]]]);
//# sourceMappingURL=main.381fd0b0.chunk.js.map